{% extends '_modal.html' %}
{% load i18n %}
{% load static %}

{% block modal_class %}modal-lg{% endblock %}
{% block modal_id %}server_file_select_modal{% endblock %}
{% block modal_title %}{% trans "File Select" %}{% endblock %}
{% block modal_body %}
    <link href="{% static 'css/plugins/fileinput/fileinput.min.css' %}" rel="stylesheet">
    <script src="{% static 'js/plugins/fileinput/fileinput.min.js' %}"></script>
    <style>
        .inmodal .modal-header {
            padding: 10px 10px;
            text-align: center;
        }

    </style>

    <div class="wrapper wrapper-content">
        <form id="server-file-form" action="" class="form form-horizontal" onsubmit="return false">
            <div class="form-group">
                <label class="col-sm-2 control-label">文件路径</label>
                <div class="col-sm-8">
                    <input id="server-file" value="/data/" class="form-control">
                </div>
                <div class="col-sm-1">
                    <button id="btn-add-server-file" class="btn btn-primary">添加</button>
                </div>
            </div>
        </form>
    </div>


    <div class="form-group" id="tmp-server-file" style="display:none;">
        <label class="col-sm-2 control-label">已添加文件路径</label>
        <div class="col-sm-8">
            <input value="/data/" readonly class="form-control server-file">
        </div>
        <div class="col-sm-1">
            <button id="btn-delete-server-file" class="btn btn-danger">删除</button>
        </div>
    </div>

    <script>


      $(document).ready(function () {
      }).on('show.bs.modal', function () {

      }).on('click', '#btn-add-server-file', function () {
        var $file_input = $('#tmp-server-file').clone()
        var $server_file_input = $('#server-file')
        $file_input.css('display', 'block')
        $file_input.find('input').val($server_file_input.val())
        $server_file_input.val('/data/')
        $('#server-file-form').append($file_input)
      }).on('click', '#btn-delete-server-file', function () {
        $(this).parent().parent().remove()
      })
    </script>
{% endblock %}

{% block modal_button %}
    {{ block.super }}
{% endblock %}

{% block modal_confirm_id %}btn_server_file_select_modal_confirm{% endblock %}

